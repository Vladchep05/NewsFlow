<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/registration.css') }}">
</head>
<body class="fade-in">

<div class="container">

    <div class="logo text-center mb-4 text-white fs-3 fw-bold">
        üì∞ NewsFlow
    </div>

    <div class="form-wrapper card p-4 col-md-6 mx-auto">
        <h2 class="text-center mb-4 heading-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>

        <form method="POST">
            {{ form.hidden_tag() }}

            <div class="mb-3">
                {{ form.username.label(class="form-label") }}
                {{ form.username(class="form-control", placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è") }}
                {% for error in form.username.errors %}
                    <div class="text-danger small">{{ error }}</div>
                {% endfor %}
                {% with msgs = get_flashed_messages(with_categories=true) %}
                    {% if msgs %}
                        {% for categ, msg in msgs %}
                            {% if categ == 'error_username' %}
                                <div class="form-error username-exists">{{ msg }}</div>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>

            <div class="mb-3">
                {{ form.email.label(class="form-label") }}
                {{ form.email(class="form-control", placeholder="–í–≤–µ–¥–∏—Ç–µ email") }}
                {% for error in form.email.errors %}
                    <div class="text-danger small">{{ error }}</div>
                {% endfor %}
                {% with msgs = get_flashed_messages(with_categories=true) %}
                    {% if msgs %}
                        {% for categ, msg in msgs %}
                            {% if categ == 'error_email' %}
                                <div class="form-error invalid-email">{{ msg }}</div>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>

            <div class="mb-3">
                {{ form.password.label(class="form-label") }}
                {{ form.password(class="form-control", placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å") }}
                {% for error in form.password.errors %}
                    <div class="text-danger small">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="mb-3">
                {{ form.confirm_password.label(class="form-label") }}
                {{ form.confirm_password(class="form-control", placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å") }}
                {% for error in form.confirm_password.errors %}
                    <div class="text-danger small">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="mb-3">
                {{ form.country.label(class="form-label") }}
                {{ form.country(class="form-select custom-select") }}
                {% for error in form.country.errors %}
                    <div class="text-danger small">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="d-flex justify-content-between">
                <a href="/" class="btn btn-outline-light">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                <button type="submit" class="btn btn-outline-light">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </div>
        </form>

        <p class="mt-4 text-center small text-white">
            –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
            <a href="/login" class="text-decoration-underline text-info">–í–æ–π—Ç–∏</a>
        </p>
    </div>
</div>
<script src="{{ url_for('static', filename='js/animations.js') }}"></script>
</body>
</html>
