{# –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ base.html #}
{% extends "base.html" %}

{# –ë–ª–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
{% block title %}–°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é{% endblock %}

{# –ë–ª–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π #}
{% block links %}
{# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ —Å Google Fonts #}
<link href="https://fonts.googleapis.com/css2?family=Arial&family=Courier+New&family=Verdana&family=Times+New+Roman&family=Poppins&display=swap"
      rel="stylesheet">

{# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ CSS-—Ñ–∞–π–ª–∞ #}
<link rel="stylesheet" href="{{ url_for('static', filename='css/create_article.css') }}">
{% endblock %}

{# –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
{% block body %}
<div class="container py-5">
    <h2 class="form-title">üìù –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h2>

    {# –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Ç–∞—Ç—å–∏. enctype multipart –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ #}
    <form action="/create_article" method="POST" enctype="multipart/form-data" novalidate>
        {{ form.hidden_tag() }} {# CSRF-—Ç–æ–∫–µ–Ω –∏ —Å–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è #}

        <div class="row">
            <div class="col-md-8">
                {# –ü–æ–ª–µ –≤–≤–æ–¥–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ #}
                <div class="glass-form m-4">
                    <label for="title" class="form-label">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                    <input type="text"
                           class="form-control font-preview"
                           id="title"
                           name="title"
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫"
                           value="{{ title | default('') }}"
                           required>
                    <div id="title-error" class="text-danger mt-1"></div>
                </div>

                {# –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ (textarea) #}
                <div class="glass-form m-4">
                    <label for="content" class="form-label">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</label>
                    <textarea
                            class="custom-textarea font-preview"
                            id="content" name="content" rows="15" style="height: 60vh;"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏..." required>{{ content | default('') }}</textarea>
                    <div id="content-error" class="text-danger mt-1"></div>
                </div>
            </div>

            <div class="col-md-4">
                {# –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π #}
                <div class="glass-form m-4">
                    <label class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>

                    {# –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π #}
                    <button type="button" class="custom-upload-btn" id="customUploadBtn">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    </button>

                    {# –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ) #}
                    <input class="form-control d-none" type="file" id="images" name="images" multiple accept="image/*">

                    {# –ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π #}
                    <div class="image-preview" id="imagePreview"></div>
                    <div id="imageError" class="text-danger mt-2"></div>
                </div>

                {# –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ —Å—Ç–∞—Ç—å–∏ #}
                <div class="glass-form m-4">
                    <label for="font" class="form-label px-2">–®—Ä–∏—Ñ—Ç —Å—Ç–∞—Ç—å–∏</label>
                    <select id="font"
                            class="font-picker p-2"
                            name="font">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —à—Ä–∏—Ñ—Ç --</option>
                        <option value="Arial" {% if font=='Arial' %}selected{% endif %}>Arial</option>
                        <option value="Courier New" {% if font=='Courier New
                        ' %}selected{% endif %}>Courier New</option>
                        <option value="Verdana" {% if font=='Verdana' %}selected{% endif %}>Verdana</option>
                        <option value="Times New Roman" {% if font=='Times New Roman
                        ' %}selected{% endif %}>Times New Roman</option>
                        <option value="Poppins" {% if font=='Poppins' %}selected{% endif %}>Poppins</option>
                    </select>
                    <div id="font-error" class="text-danger mt-1"></div>
                </div>

                {# –ß–µ–∫–±–æ–∫—Å –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ #}
                <div class="glass-form text-center">
                    <div class="form-check d-flex justify-content-center align-items-center gap-2">
                        <input class="form-check-input" type="checkbox" id="comments" name="comments" value="1"
                               {% if comments %}checked{% endif %}>
                        <label class="form-check-label" for="comments">–†–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</label>
                    </div>
                </div>
            </div>
        </div>

        {# –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã #}
        <div class="text-center mt-4">
            <button type="submit" class="glow-button">üöÄ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
        </div>
    </form>
</div>
{% endblock %}

{# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript-—Ñ–∞–π–ª–∞ –¥–ª—è –ª–æ–≥–∏–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π) #}
{% block scripts %}
<script src="{{ url_for('static', filename='js/create_article.js') }}"></script>
{% endblock %}